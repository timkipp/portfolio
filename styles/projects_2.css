#projects {
    container-type: size;

    & > main {
        display: grid;
        grid-template-rows: repeat(2, 1fr);
        grid-template-columns: repeat(2, 1fr);
        gap: 2rem;
        width: 100%;

        & figure {
            --_br: 1rem;
            display: grid;
            gap: 1rem;
            max-width: 85%;
            position: relative;
            aspect-ratio: 16/9;
            perspective: 1000px;
            transform-style: preserve-3d;
            transition: transform 0.6s;

            & .project-screenshot {
                grid-row: 1 / 3;
                grid-column: 1 / 3;
                aspect-ratio: 16/9;
                border-radius: var(--_br);
                overflow: hidden;

                &::before,
                &::after,
                & + figcaption::after {
                    --_size: var(--_br);
                    content: "";
                    position: absolute;
                    width: var(--_size);
                    aspect-ratio: 1;
                    background-image: radial-gradient(circle at 100% 100%, transparent var(--_size), var(--_corner-color, var(--dark-background)) calc(var(--_size) + 1px));
                    rotate: -90deg;
                }

                &::before {
                    left: 0;
                    bottom: 0;
                    grid-column: 2;
                    grid-row: 2 / 3;
                }

                &::after {
                    left: 0;
                    bottom: 0;
                    grid-column: 1;
                    grid-row: 1 / 2;
                    box-shadow: -1rem 0 0 var(--dark-background);
                }

                & img {
                    display: block;
                    backface-visibility: hidden;
                    width: 100%;
                    max-width: 100%;
                    height: 100%;
                }

                & + figcaption {
                    display: grid;
                    background: var(--dark-background);
                    color: var(--empathy-color);
                    font-size: 4em;
                    font-weight: 200;
                    font-variation-settings: "wght" 300;
                    grid-row: 2 / 3;
                    grid-column: 1 / 2;
                    border-radius: var(--_br) var(--_br) 0 0;
                    box-shadow: 0 1rem 0 var(--dark-background), 0 0 0 1rem var(--dark-background);

                    &::after {
                        left: -1rem;
                    }

                    & span {
                        display: grid;
                        place-items: center;
                        height: max-content;
                        background: var(--dark-background);
                        border-radius: calc(var(--_br) / 2);
                    }
                }
            }

            & .project-description {
                grid-row: 1 / 3;
                grid-column: 1 / 3;
                aspect-ratio: 16/9;
                border-radius: var(--_br);
                overflow: hidden;

                display: flex;
                align-items: center;
                justify-content: center;
                position: absolute;
                top: 0;
                left: 0;
                backface-visibility: hidden;
                width: 100%;
                height: 100%;
                padding: 1rem;
                color: var(--creativity-color);
                background-color: var(--light-background);
                border-radius: var(--_br);
                transition: transform 0.8s ease;
                transform-style: preserve-3d;
                transform: rotateY(180deg);

                &::before,
                &::after {
                    --_size: var(--_br);
                    content: "";
                    position: absolute;
                    width: var(--_size);
                    aspect-ratio: 1;
                    background-image: radial-gradient(circle at 100% 100%, transparent var(--_size), var(--_corner-color, var(--dark-background)) calc(var(--_size) + 1px));
                    rotate: -90deg;
                }

                &::before {
                    left: 0;
                    bottom: 0;
                    grid-column: 2;
                    grid-row: 2 / 3;
                }

                &::after {
                    left: 0;
                    bottom: 0;
                    grid-column: 1;
                    grid-row: 1 / 2;
                    box-shadow: -1rem 0 0 var(--dark-background);
                }
            }

            &.flipped {
                transform: rotateY(180deg);
            }
        }
    }
}
